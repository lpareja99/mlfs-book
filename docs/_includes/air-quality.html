<style>
  #aq-map {
    width: 100%;
    height: 400px;
    border-radius: 8px;
    border: 1px solid #ddd;
    margin-bottom: 1rem;
  }
</style>

<h2>Monitoring Stations</h2>
<p>
  Interactive map of the air quality monitoring stations.
  Click on a marker to open the live AQICN page.
</p>

<div id="aq-map"></div>

<!-- Leaflet CSS & JS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""
/>
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
></script>

<script>
  // List of stations – adjust to your real list
  const stations = [
    {
      uid: 2860,
      name: "Ecke Taborstraße - Glockengasse",
      lat: 48.216739,
      lng: 16.380918,
      url: "https://aqicn.org/station/@2860/"
    },
    {
      uid: 10009,
      name: "Stockholm, Hornsgatan 108",
      lat: 59.3208,
      lng: 18.0455,
      url: "https://aqicn.org/station/@10009/"
    }
    // añade el resto si quieres
  ];

  // Center map roughly between Vienna & Stockholm (cámbialo si quieres solo una ciudad)
  const map = L.map("aq-map").setView([56.0, 15.0], 4);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution: "&copy; OpenStreetMap contributors"
  }).addTo(map);

  stations.forEach((s) => {
    const marker = L.marker([s.lat, s.lng]).addTo(map);
    marker.bindPopup(
      `<strong>${s.name}</strong><br/>
       UID: ${s.uid}<br/>
       <a href="${s.url}" target="_blank">Open AQICN station</a>`
    );
  });
</script>

